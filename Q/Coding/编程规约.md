# 编程规约

[Q&A](../../Coding/Q&A.md)

## Mysql

### 推荐进行分库分表

单表行数超过 \_\_\_\_\_\_\_\_ 或者单表容量超过 \_\_\_\_，才推荐进行分库分表。
如果预计 \_\_\_\_ 年后的数据量根本达不到这个级别，请不要在创建表时就分库分表。

### 索引插入效率

\_\_\_\_\_\_\_\_ 或者 \_\_\_\_\_\_\_\_ 以内，\_\_\_\_\_\_\_\_可以忽略不计

### varchar字段上建立索引

在 varchar 字段上建立索引时，必须\_\_\_\_\_\_\_\_，没必要对全字段建立索引，根据 \_\_\_\_\_\_\_\_ 决定索引长度。
索引的 \_\_\_\_\_\_\_\_ 与 \_\_\_\_\_\_\_\_ 是\_\_\_\_\_\_\_\_，一般对字符串类型数据，长度为 \_\_\_\_\_\_\_\_ 的索引，区分度会高达 \_\_\_\_\_\_\_\_
以上，可以使用 `count(distinct left(列名,  索引长度))/count(*)` 的区分度来确定。

### 区分度小技巧

有些字段的特征在于，前面大多数部分都是相同的，只是后面几位不同，对于这样的字段我们保留前几位作为索引字段时不行的，那实际上可以通过 \_\_\_\_\_\_\_\_ 的方式来满足。

### 利用延迟关联或者子查询优化超多分页场景

MySQL 并不是 \_\_\_\_\_\_\_\_ ，而是 \_\_\_\_\_\_\_\_ ，然后 \_\_\_\_\_\_\_\_ ，那当
offset 特别大的时候，效率就非常的低下，要么控制返回的总页数，要么对超过特定阈值的页数进行 SQL改写。

正例1：\_\_\_\_\_\_\_\_，然后再关联：

```sql
________
```

正例2：\_\_\_\_\_\_\_\_
