# Gateway

[TOC]

## 1 什么是 Gateway ？

* 微服务架构中，服务的**统一入口**
* **鉴权检验**
* **动态路由**
* 组合
* 协议转换
* 负载均衡
* 流量控制
* 灰度发布

### 1.2 为什么需要网关

* 解耦
* 协议转换
* 可扩展和伸缩性

## 2 网关与服务器集群

### 2.1 多层 Gateway 架构

* 有一个总的 Gateway 接入所有的流量 **(流量网关)**
* 第二级 Gateway 用于做各个子系统的接入 Gateway **(业务网关)**

> 把整个系统架构的复杂度变得简单可控

## 3 核心功能

* 请求路由
* 服务注册
* 负载均衡
* 弹力设计
* 安全方面
* 灰度发布
* API 聚合
* API 编排

## 4 设计重点

* 高性能
* 高可用
  * 集群化
  * 服务化
  * 持续化
* 高扩展
  * 业务松耦合，协议紧耦合
  * 应用监视，提供分析数据
  * 用弹力设计保护后端服务
  * DevOps
  
## 5 Spring Cloud Gateway

### 5.1 组件

底层使用了高性能的通信框架Netty

### 5.1.1 Route

### 5.1.2 Predicate

### 5.1.3 Filter
